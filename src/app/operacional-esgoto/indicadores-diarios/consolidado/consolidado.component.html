<div class="ui-g">
  <div class="ui-g-3">
    <div class="ui-g-12"  style="text-align: left;padding-bottom: 30px;">
      <p-dropdown [autoWidth]="true" placeholder="Classificação" (click)="atualizaIndicadores($event)" class="ui-g-12" filter="true" [(ngModel)]="classificacaoSelecionada" optionLabel="nome" styleClass = "drop95" [options]="listaDeClassificacoes"></p-dropdown>
    </div>
  </div>
  <div class="ui-g-3">
    <div class="ui-g-12"  style="text-align: left;padding-bottom: 30px;">
      <p-dropdown [autoWidth]="true" placeholder="Unidade" class="ui-g-12" filter="true" [(ngModel)]="unidadeSelecionada" optionLabel="unidade" styleClass = "drop95" [options]="listaDeUnidades"></p-dropdown>
    </div>
  </div>
  <div class="ui-g-3" style="margin-top: 15px;">
    <span class="md-inputfield">
      <p-calendar class="ui-g-12"  view="month" (click)="checarBotao()" [(ngModel)]="Data" dateFormat="yy-mm-dd"></p-calendar>
      <label >Data</label>
    </span>
  </div>
  <div class="ui-g-3">
    <div class="ui-g-12"  style="text-align: left;padding-bottom: 30px;">
      <span class="md-inputfield">
        <p-dropdown [autoWidth]="true" (click)="checarBotao()" placeholder="Indicadores" class="ui-g-12" filter="true" [(ngModel)]="IndicadorSelecionado" optionLabel="nome" styleClass = "drop95" [options]="listaDeIndicadores"></p-dropdown>
      </span>
    </div>
  </div>
  <div class="ui-g-12" style="margin-top: 40px; text-align: right;">
    <button type="button" (click)="Escolher()" pButton label="Pesquisar" [disabled]="checkbotao"></button>
  </div>
</div>

<p-dialog header="{{ IndicadorSelecionado.nome }}" *ngIf="displayIndicador" [(visible)]="displayIndicador" [focusOnShow]="false" [responsive]="true" showEffect="fade" [modal]="true"  [style]="{width: '50%'}">
  <p-table [value]="listaCriada" *ngIf="displayIndicador" selectionMode="single"  (onRowSelect)="selecionar($event)" [paginator]="true" [rows]="16">
    <ng-template pTemplate="header" let-columns>
        <tr>
            <th>
                Data
            </th>
            <th>
                Cálculo
            </th>
            <th>
                Valor
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData >
        <tr [pSelectableRow]="rowData">
            <td >
                {{rowData['data']}}
            </td>
            <td >
                {{rowData['tipoDeCalculo']}}
            </td>
            <td >
                {{rowData['calculo']}}
            </td>
        </tr>
    </ng-template>  
  </p-table>
  <div class="ui-g-6">
     {{  IndicadorDiarioSelecionado !== null ? "Integrado com o indicador " + IndicadorDiarioSelecionado.indicador : null  }}
  </div>
  <div class="ui-g-6" style="text-align: right;" *ngIf="IndicadorDiarioSelecionado !== null">
      <button pButton type="button" (click)="enviarparaindicadoresdiarios()" label="Enviar para indicadores diários" ></button>
  </div>
</p-dialog>

<p-dialog header="Gerenciar Indicador" [(visible)]="abrirRegistros" [focusOnShow]="false" [responsive]="true" showEffect="fade" [modal]="true"  [style]="{width: '50%'}">
  <p-table [value]="RegistroSelected" *ngIf="abrirRegistros" (onRowSelect)="adicionareditarregistros($event)" selectionMode="single"  [paginator]="true" [rows]="5">
    <ng-template pTemplate="header" let-columns>
        <tr>
            <th>
                Data Hora
            </th>
            <th>
                Valor
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData >
        <tr [pSelectableRow]="rowData">
            <td >
                {{rowData['dataIndicador']}}
            </td>
            <td >
                {{rowData['valor']}}
            </td>
        </tr>
    </ng-template>  
  </p-table>
  <div class="ui-g-12" style="text-align: right;">
    <button pButton type="button" (click)="novoregistro()" icon="pi pi-plus" ></button>
  </div>
</p-dialog>


<p-dialog header="Editar/Adicionar" *ngIf="edicao" [(visible)]="edicao" [focusOnShow]="false" [responsive]="true" showEffect="fade" [modal]="true"  [style]="{width: '40%', height: '60%'}">
  <div class="ui-g" style="height:400px;">
    <div class="ui-g-12">
      <p-calendar class="ui-g-12" [(ngModel)]="objetoEditadoData"  [showTime]="true"  dateFormat="yy-mm-dd"></p-calendar>
    </div>
    <div class="ui-g-12">
      <span class="md-inputfield">
        <input class="ui-g-12" type="number" [(ngModel)]="objetoEditadoValor" pInputText />
        <label >Digite um novo Valor</label>
      </span>
    </div>
    <div class="ui-g-12" style="text-align: right;">
      <button type="button" (click)="salvaAlteracao()" pButton label="Salvar" ></button>
    </div>
    <div class="ui-g-12" style="margin-top: 200px;">.</div>
  </div>
</p-dialog>