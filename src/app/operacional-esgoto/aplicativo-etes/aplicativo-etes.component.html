<p-table #dt [value]="ListaDeUnidades" *ngIf="VisibleListaDeUnidades"  selectionMode="single" >
  <ng-template pTemplate="caption">
    <div class="ui-helper-clearfix" style="text-align: left">
        <button type="button" pButton icon="pi pi-file-o" iconPos="left" label="CSV" (click)="salvarCSV()" style="margin-right: 0.5em;"></button>
    </div>
  </ng-template>
  <ng-template pTemplate="header" let-columns>
      <tr style="font-weight: bold !important; font-size: 15px;">
        <th>Identificador</th>
        <th>Data da Criação</th>
        <th>Unidade</th>
        <th>Tipo de Tratamento</th>
        <th style="width: 10% !important;"></th>
      </tr>
  </ng-template>
  <ng-template let-linha  let-i="rowIndex" pTemplate="body">
    <tr [pSelectableRow]="linha"  style="font-size: 13px;">
      <td>{{linha.id}}</td>
      <td>{{linha.dataDaCriacao}}</td>
      <td>{{linha.unidade}}</td>
      <td>{{linha.tipoDeTratamento}}</td>
      <td >
        <button pButton type="button" (click)="selectEte(linha)" style="text-align: center; border-radius: 50% 50% 50% 50%;">
          <span class="material-icons" style="margin-top: 5px;">
            last_page
          </span>
        </button>
      </td>
    </tr>
  </ng-template>
</p-table>
<div class="ui-g ui-md" *ngIf="VisibleUnidadeSelecionada" >
  <div class="card ui-g-12 ui-md-12" style="margin-top: 10px;">
    <div class="ui-g-12 ui-md-6" >
      <h1>{{UnidadeSelecionada.unidade}}</h1>
    </div>
    <div class="ui-g-12 ui-md-6" style="text-align: right;">
      <button pButton type="button" (click)="voltar()" style="text-align: center;border-radius: 50% 50% 50% 50%;">
        <span class="material-icons" style="margin-top: 5px;">
          arrow_back_ios
        </span>
      </button>
    </div>
    <div class="ui-g-12 ui-md-2">
        De:
        <p-calendar class="ui-g-12" [(ngModel)]="DATA1" [locale]="ptbr" dateFormat="dd/mm/yy"></p-calendar>
    </div>
    <div class="ui-g-12 ui-md-2">
        Até:
        <p-calendar class="ui-g-12" [(ngModel)]="DATA2" [minDate]="DATA1" [locale]="ptbr" dateFormat="dd/mm/yy"></p-calendar>
    </div>
  </div>
  <div class="ui-g-12 ui-md-2" *ngFor="let med of ListaOpcoes">
    <div class="card" style=" margin-top: 5px; height:120px;" [ngStyle]="med.selected === 0 ? null : { 'background-color': '#42f593' }">
      <div class="ui-g-2">
        <span class="material-icons" >
          {{med.icon}}
        </span>
      </div>
      <div style="font-weight: bold;" class="ui-g-10">{{ med.label }}</div>
      <div  class="ui-g-12" style="margin-top: 10px;text-align: right;" >
        <button pButton type="button"  (click)="selecioanarIndicador(med)" style="text-align: center; border-radius: 50% 50% 50% 50%;">
          <span class="material-icons" style="margin-top: 5px;">
            remove_red_eye
          </span>
        </button>
      </div>
    </div>
  </div>
</div>






<p-table #dt [columns]="cols" [value]="ListaDeIndicadores" *ngIf="VisibleListaDeIndicadores" [paginator]="true" [rows]="20">
  <ng-template pTemplate="header" let-columns>
      <tr>
          <th *ngFor="let col of columns">
              {{col.header}}
          </th>
      </tr>
      <tr>
          <th *ngFor="let col of columns" [ngSwitch]="col.field">
              <input *ngSwitchCase="'vin'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, 'contains')">
              <div *ngSwitchCase="'year'">
                  Value > {{yearFilter}}
                  <i class="pi pi-times" (click)="yearFilter=null;dt.filter(null, col.field, col.filterMatchMode)" style="cursor:pointer" *ngIf="yearFilter"></i>
                  <p-slider [style]="{'width':'100%','margin-top':'8px'}" [(ngModel)]="yearFilter" [min]="1970" [max]="2010" (onChange)="onYearChange($event, dt)"></p-slider>
              </div>
              <p-dropdown *ngSwitchCase="'usuario'" [options]="ListaFiltroUsuario" [style]="{'width':'100%'}" (onChange)="dt.filter($event.value, col.field, 'equals')"></p-dropdown>
              <p-dropdown *ngSwitchCase="'indicador'" [options]="ListaFiltroindicador" [style]="{'width':'100%'}" (onChange)="dt.filter($event.value, col.field, 'equals')"></p-dropdown>
              <p-multiSelect *ngSwitchCase="'color'" [options]="colors" defaultLabel="All Colors" (onChange)="dt.filter($event.value, col.field, 'in')"></p-multiSelect>
              <input *ngSwitchCase="'price'" pInputText type="text" placeholder="Custom - Greater Than" (input)="dt.filter($event.target.value, col.field, 'custom')">
          </th>
      </tr>
  </ng-template>
  <ng-template pTemplate="body" let-rowData let-columns="columns">
      <tr [pSelectableRow]="rowData">
          <td *ngFor="let col of columns">
              {{rowData[col.field]}}
          </td>
      </tr>
  </ng-template>
</p-table>